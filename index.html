<!DOCTYPE html>
<html>
<head>
    <title>FastAPI Frontend</title>
    <style>
        body { font-family: sans-serif; }
        #results { border: 1px solid #ccc; padding: 10px; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>FastAPI Frontend</h1>
    <div id="results">
        <p>Loading...</p>
    </div>

    <script>
        async function fetchData() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = ''; // Clear loading message

            try {
                // Fetch root endpoint
                const rootResponse = await fetch('/api/');
                const rootData = await rootResponse.json();
                const rootP = document.createElement('p');
                rootP.textContent = `Root endpoint says: Hello ${rootData.Hello}`;
                resultsDiv.appendChild(rootP);

                // Fetch items endpoint
                const itemResponse = await fetch('/api/items/42?q=test');
                const itemData = await itemResponse.json();
                const itemP = document.createElement('p');
                itemP.textContent = `Items endpoint says: Item ID is ${itemData.item_id} with query "${itemData.q}"`;
                resultsDiv.appendChild(itemP);

            } catch (error) {
                resultsDiv.innerHTML = `<p>Error fetching data: ${error}</p>`;
            }
        }

        fetchData();
    </script>
</body>
</html>
